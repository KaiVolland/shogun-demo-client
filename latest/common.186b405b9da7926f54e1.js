"use strict";(self.webpackChunkshogun_demo_client=self.webpackChunkshogun_demo_client||[]).push([[592],{79378:function(e,t,n){n.r(t),n.d(t,{BasicLayerTree:function(){return s}});var r=n(67294),a=n(41264),i=n(80815),o=n(64289);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const s=e=>{const t=(0,i.ZP)();return t?r.createElement(o.Z,l({map:t,filterFunction:e=>!(e instanceof a.Z)},e)):r.createElement(r.Fragment,null)};t.default=s},24338:function(e,t,n){n(92015);var r=n(4863),a=(n(94125),n(16318)),i=n(67294),o=n(31929),l=n(17699),s=n(67502),c=n(65920),m=n(68734),p=n(61140),d=n(21715),u=n(26414),f=n(97260),g=n(14409),h=n(59090),v=n(73935),y=n(95998),E=n(12038),w=n.n(E),Z=n(92212),b=n.n(Z),P=n(67624),k=n(6653),A=n.n(k),I=n(41907),S=n.n(I),O=n(80815),M=n(7294);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var D=e=>{const t=(0,O.ZP)();return t?i.createElement(M.ZP,N({map:t},e)):i.createElement(i.Fragment,null)},T=(n(1025),n(65400)),F=(n(56120),n(74253)),L=n(4540),C=n(37494),j=n(91900),_=n(64478),R=n(26954),x=n(93379),z=n.n(x),B=n(7795),$=n.n(B),G=n(90569),V=n.n(G),Y=n(3565),H=n.n(Y),K=n(19216),Q=n.n(K),U=n(44589),q=n.n(U),J=n(78415),W={};W.styleTagTransform=q(),W.setAttributes=H(),W.insert=V().bind(null,"head"),W.domAPI=$(),W.insertStyleElement=Q();z()(J.Z,W),J.Z&&J.Z.locals&&J.Z.locals;function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}var ee=({...e})=>{const{t:t}=(0,_.$)(),n=(0,O.ZP)();(0,i.useEffect)((()=>{if(!n)return;const e=n.getControls().getArray().find((e=>e instanceof C.Z));e||n.addControl(new C.Z({target:"scale-line-container"}))}),[n]),(0,i.useEffect)((()=>{if(!n)return;const e=n.getControls().getArray().find((e=>e instanceof L.Z));e||n.addControl(new L.Z({coordinateFormat:(0,j.Fj)(2),projection:"EPSG:25832",undefinedHTML:"&nbsp;",target:"mouse-position"}))}),[n]);return n?i.createElement("div",X({className:"footer"},e),i.createElement("div",{className:"item-container left-items"},i.createElement("div",{id:"scale-line-container"}),i.createElement(F.Z,{type:"vertical"}),t("Footer.scale"),":",i.createElement(R.Z,{map:n}),i.createElement(F.Z,{type:"vertical"}),i.createElement("div",null,t("Footer.refSystem"),": ",n.getView().getProjection().getCode()),i.createElement(F.Z,{type:"vertical"}),i.createElement("div",null,t("Footer.mousePosition"),":"),i.createElement("div",{id:"mouse-position",className:"mouse-position"})),i.createElement("div",{className:"item-container right-items"},i.createElement(T.Z,{onClick:()=>{window.open("https://www.terrestris.de/de/kontakt/","_blank")},type:"link"},t("Footer.contact")),i.createElement(T.Z,{onClick:()=>{window.open("https://www.terrestris.de/de/impressum/","_blank")},type:"link"},t("Footer.imprint")),i.createElement(T.Z,{onClick:()=>{window.open("https://www.terrestris.de/de/datenschutzerklaerung/","_blank")},type:"link"},t("Footer.privacypolicy")))):i.createElement(i.Fragment,null)},te=n(53280);const ne=y.v9;var re=n(43985);function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var ie=e=>{const t=(0,O.ZP)(),{t:n}=(0,_.$)();return t?i.createElement(re.ZP,ae({map:t,countryCodes:"",allowClear:!0,nominatimBaseUrl:"https://nominatim.terrestris.de/search.php?",placeholder:n("Nominatim.placeholder")},e)):i.createElement(i.Fragment,null)},oe=n(51436),le=n(17625),se=n(18776);const ce=()=>(0,y.I0)();var me=n(35304);const pe=(0,me.oM)({name:"drawer",initialState:{visible:!1},reducers:{toggleVisibility:e=>{e.visible=!e.visible}}}),{toggleVisibility:de}=pe.actions;var ue=pe.reducer;var fe=e=>{const t=ce();return i.createElement(se.Z,{className:"toggle-drawer-button",onClick:()=>{t(de())},icon:i.createElement(le.G,{icon:oe.xiG})})},ge=n(62923),he={};he.styleTagTransform=q(),he.setAttributes=H(),he.insert=V().bind(null,"head"),he.domAPI=$(),he.insertStyleElement=Q();z()(ge.Z,he),ge.Z&&ge.Z.locals&&ge.Z.locals;var ve=()=>{const e=ne((e=>e.title));return i.createElement("div",{className:"header"},i.createElement("div",{className:"item-container left-items"},i.createElement("img",{className:"logo",src:te}),i.createElement("div",{className:"title"},e)),i.createElement("div",{className:"item-container center-items"},i.createElement(ie,null)),i.createElement("div",{className:"item-container right-items"},i.createElement(fe,null)))},ye=(n(16049),n(1825)),Ee=n(37918),we={};we.styleTagTransform=q(),we.setAttributes=H(),we.insert=V().bind(null,"head"),we.domAPI=$(),we.insertStyleElement=Q();z()(Ee.Z,we),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}const be=i.lazy((()=>Promise.all([n.e(987),n.e(592)]).then(n.bind(n,79378))));var Pe=e=>{const t=ce(),n=ne((e=>e.drawer.visible)),{t:r}=(0,_.$)();return i.createElement(ye.Z,Ze({className:"side-drawer",title:r("Drawer.title"),placement:"right",onClose:()=>{t(de())},visible:n,mask:!1},e),i.createElement(i.Suspense,{fallback:null},i.createElement(be,null)))},ke=n(65705),Ae={};Ae.styleTagTransform=q(),Ae.setAttributes=H(),Ae.insert=V().bind(null,"head"),Ae.domAPI=$(),Ae.insertStyleElement=Q();z()(ke.Z,Ae),ke.Z&&ke.Z.locals&&ke.Z.locals;var Ie=()=>i.createElement("div",{className:"App"},i.createElement(ve,null),i.createElement(D,null),i.createElement(Pe,null),i.createElement(ee,null)),Se=n(36609),Oe=n(26071),Me=n(68718);Se.ZP.use(Oe.Z).use(Me.Db).init({resources:{de:{translation:{Footer:{refSystem:"Bezugssystem",scale:"Maßstab",mousePosition:"Mausposition",imprint:"Impressum",contact:"Kontakt",privacypolicy:"Datenschutz"},Index:{applicationLoadErrorMessage:"Fehler beim Laden der Applikation",applicationLoadErrorDescription:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. Die Standardkonfiguration wird stattdessen geladen.",errorMessage:"Fehler beim Laden der Applikation",errorDescription:"Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden. Bitte laden Sie die Seite erneut."},Nominatim:{placeholder:"Ortsname, Straßenname, Stadtteilname, POI usw."},Drawer:{title:"Themen"}}},en:{translation:{Footer:{refSystem:"Reference system",scale:"Scale",mousePosition:"Mouse position",imprint:"Imprint",contact:"Contact",privacypolicy:"Privacy"},Index:{applicationLoadErrorMessage:"Error while loading the application",applicationLoadErrorDescription:"The application with ID {{applicationId}} could not be loaded correctly. You're seeing the default application configuration.",errorMessage:"Error while loading the application",errorDescription:"An unexpected error occured while loading the application. Please try to reload the page."},Nominatim:{placeholder:"Place name, street name, district name, POI, etc."},Drawer:{title:"Layers"}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},supportedLngs:["de","en"]});var Ne=Se.ZP;const De=(0,me.oM)({name:"title",initialState:"Default title",reducers:{setTitle:(e,t)=>t.payload}}),{setTitle:Te}=De.actions;var Fe=De.reducer;const Le=(0,me.xC)({reducer:{drawer:ue,title:Fe}});var Ce=n(90978),je={};je.styleTagTransform=q(),je.setAttributes=H(),je.insert=V().bind(null,"head"),je.domAPI=$(),je.insertStyleElement=Q();z()(Ce.Z,je),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;const _e=new(S())({url:"/"}),Re=new(A())({client:_e}),xe=e=>{switch(e){case"en":default:return s.Z;case"de":return l.Z}};(async()=>{try{const e=await(async()=>{const e=b().getQueryParam(window.location.href,"applicationId");if(!e)return void w().info("No application ID given, can't load any configuration.");let t;w().info(`Loading application with ID ${e}`);try{return t=await _e.application().findOne(e),t}catch(t){w().error(`Error while loading application with ID ${e}: ${t}`),a.default.error({message:Ne.t("Index.applicationLoadErrorMessage"),description:Ne.t("Index.applicationLoadErrorDescription",{applicationId:e}),duration:0})}})();let t;e?((async e=>{e?e.name&&Le.dispatch(Te(e.name)):w().info("No application configuration provided, the default store will be loaded")})(e),t=await(async e=>{const t=await Re.parseMapView(e),n=await Re.parseLayerTree(e);return new d.default({view:t,layers:n,controls:(0,c.ce)({zoom:!1})})})(e)):t=(()=>{const e=new p.default({source:new f.Z});e.set("name","OpenStreetMap");const t=new p.default({opacity:.5,visible:!0,source:new g.default({url:"https://gibs.earthdata.nasa.gov/wms/epsg3857/best/wms.cgi",projection:"EPSG:3857",params:{LAYERS:"MERRA2_2m_Air_Temperature_Assimilated_Monthly"}})});t.set("name","2-meter Air Temperature, Assimilated (Monthly, MERRA2)");const n=new m.default({layers:[t]});n.set("name","NASA Earth Observations");const r=new m.default({layers:[e]});r.set("name","Background");const a=(0,u.fromLonLat)([0,40],"EPSG:3857");return new d.default({view:new h.default({center:a,zoom:0}),layers:[r,n],controls:(0,c.ce)({zoom:!1})})})(),(0,v.render)(i.createElement(i.StrictMode,null,i.createElement(i.Suspense,{fallback:i.createElement("span",null)},i.createElement(o.default,{locale:xe(Ne.language)},i.createElement(y.zt,{store:Le},i.createElement(P.default.Provider,{value:t},i.createElement(Ie,null)))))),document.getElementById("app"))}catch(e){w().error(e),(0,v.render)(i.createElement(i.StrictMode,null,i.createElement(r.default,{className:"error-boundary",message:Ne.t("Index.errorMessage"),description:Ne.t("Index.errorDescription"),type:"error",showIcon:!0})),document.getElementById("app"))}})()},65705:function(e,t,n){var r=n(87537),a=n.n(r),i=n(23645),o=n.n(i)()(a());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},78415:function(e,t,n){var r=n(87537),a=n.n(r),i=n(23645),o=n.n(i)()(a());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},62923:function(e,t,n){var r=n(87537),a=n.n(r),i=n(23645),o=n.n(i)()(a());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},37918:function(e,t,n){var r=n(87537),a=n.n(r),i=n(23645),o=n.n(i)()(a());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},90978:function(e,t,n){var r=n(87537),a=n.n(r),i=n(23645),o=n.n(i)()(a());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o}}]);
//# sourceMappingURL=common.186b405b9da7926f54e1.js.map